library(tidyverse)
setwd("C:/Users/Matt/Documents/GitHub/r_cleaning_data_online_fall23")
write.csv(starwars, "starwars.csv")
starwars
star_wars_df <- read_csv("starwars.csv")
star_wars_df
star_wars_df <- as_tibble(starwars)
star_wars_df
write.csv(star_wars_df, "starwars.csv")
write_csv(star_wars_df, "starwars.csv")
sw <- read_csv("starwars.csv")
sw
sw_df <- read_csv("starwars.csv")
setwd("C:/Users/Matt/Documents/GitHub/r_cleaning_data_online_fall23")
view(sw_df)
starwars
view(starwars)
sw_df_v2 <- read_csv("starwars_v2.csv")
sw_df_v2
sw_df_v2$starships
sw_df_v2$sfilms
sw_df_v2$films
sw_df <- read_csv("starwars.csv")
sw_df
sw_df_v2
write_csv(sw_df_v2, "starwars.csv")
sw_df <- read_csv("starwars.csv")
sw_df
view(sw_df)
sw_df <- read_csv("starwars_v2.csv")
sw_df
view(sw_df)
sw_df <- read_csv("starwars_v2.csv")
sw_df
view(sw_df)
sw_df |> # object we are working on
filter(homeworld == "Tatooine") |> # first operation
select(height, mass, species) # second operation
sw_df |> # object we are working on
filter(homeworld == "Tatooine") |> # first operation
select(name, height, mass, species) # second operation
sw_df |> # object we are working on
select(name, height, mass, species) |> # first operation
filter(homeworld == "Tatooine") # second operation
sw_eye <- sw_df |>
filter(eye_color == "blue")
sw_eye
sw_eye50 <- sw_df |>
filter(eye_color != "blue" & birth_year >= 50)
sw_eye50
filter(eye_color == blue" & birth_year >= 50)
sw_eye50
sw_eye50 <- sw_df |>
filter(eye_color == "blue" & birth_year >= 50)
sw_eye50 <- sw_df |>
filter(eye_color == "blue" & birth_year >= 50)
sw_eye50
sw_eye50 <- sw_df |>
filter(eye_color == "blue" & birth_year > 50)
sw_eye50
sw_eye50 <- sw_df |>
filter(eye_color == "blue" & birth_year < 50)
sw_eye50
sw_select <- sw_df |>
select(name, height, mass)
sw_select
sw_not_select
sw_not_select <- sw_df |>
select(-height, -mass)
sw_not_select
sw_df |>
arrange(desc(birth_year))
sw_df |>
arrange(desc(birth_year))
sw_df |>
arrange(desc(birth_year), height)
sw_df |>
arrange(desc(birth_year), hair_color)
sw_df |>
arrange(desc(skin_color), hair_color)
sw_group <- sw_df |>
group_by(sex) |>
summarise(avg_height = mean(height))
sw_group <- sw_df |>
group_by(sex) |>
summarise(avg_height = mean(height))
sw_group
sw_group <- sw_df |>
group_by(sex) |>
summarise(total = n())
sw_group
sw_group <- sw_df |>
group_by(sex) |>
drop_na() |>
summarise(total = mean(height))
sw_group
sw_df <- read_csv("starwars_v2.csv")
sw_group <- sw_df |>
group_by(sex) |>
drop_na() |>
summarise(avg_height = mean(height))
sw_group
sw_group <- sw_df |>
group_by(sex) |>
summarise(avg_height = mean(height))
sw_group
sw_group <- sw_df |>
group_by(sex) |>
summarise(avg_height = mean(height), # get the mean of height for each group
count = n() # get the count
)
sw_group
sw_group <- sw_df |>
group_by(sex) |>
summarise(avg_height = mean(height), # get the mean of height for each group
count = n() # get the count
avg_bmi = mean(height/mass)
sw_group <- sw_df |>
group_by(sex) |>
summarise(avg_height = mean(height), # get the mean of height for each group
count = n(), # get the count
avg_bmi = mean(height/mass)
)
sw_group
view(demographics_df)
demographics_df <- haven::read_sav("demographics.sav")
view(demographics_df)
demographics_df
sw_df <- read_csv("starwars_v2.csv")
sw_df
sw_df <- sw_df |>
mutate(character_id = as.character(character_id))
sw_df
sw_df
sw_df <- sw_df |>
mutate(sex = as_factor(sex))
levels(sw_df)
levels(sw_df$sex)
levels(sw_df$sex)
sw_df <- sw_df |>
mutate(sex_num = recode_factor(sex_num,
"male" = 0,
"female" = 1,
"none" = 2,
"hermaphroditic" = 3,
"unknown" = 999))
sw_df <- sw_df |>
mutate(sex_num = recode_factor(sex_num,
"male" = "0",
"female" = "1",
"none" = "2",
"hermaphroditic" = "3",
"unknown" = "999"))
sw_df <- sw_df |>
mutate(sex_num = recode_factor(sex,
"male" = 0,
"female" = 1,
"none" = 2,
"hermaphroditic" = 3,
"unknown" = 999))
sw_df <- sw_df |>
mutate(sex_num = recode_factor(sex,
"male" = 0,
"female" = 1,
"none" = 2,
"hermaphroditic" = 3,
"unknown" = 999)) |>
relocate(sex_num, .after = sex)
sw_df
glimpse(sw_df)
sw_df <- sw_df |>
rename("sex_label" = sex)
glimpse(sw_df)
which(is.na(sw_df$mass))
mean(sw_df$mass)
sw_dropNA <- sw_df |>
drop_na()
mean(sw_df$mass)
mean(sw_dropNA$mass)
sw_dropNA_var <- sw_df |>
drop_na(mass)
mean(sw_dropNA_var$mass)
sw_df <- read_csv("starwars_v2.csv")
sw_df <- sw_df |>
mutateI(homeworld = replace_na(homeworld, "unknown"))
sw_df <- sw_df |>
mutate(homeworld = replace_na(homeworld, "unknown"))
sw_df
horror_books <- readxl::read_xlsx("halloween.xlsx", sheet = 1)
horror_movies <- readxl::read_xlsx("halloween.xlsx", sheet = 2)
glimpse(horror_movies)
glimpse(horror_books)
horror_articles <- readxl::read_xlsx("halloween.xlsx", sheet = 3)
glimpse(horror_articles)
glimpse(horror_movies)
horror_movies <- horror_movies |>
mutate(Date = lubridate::ymd(release_date))
horror_movies
horror_movies
demographics_df
sw_df <- read_csv("starwars_v2.csv")
write_csv(sw_df, "starwars.csv")
sw_df <- read_csv("starwars.csv")
setwd("C:/Users/Matt/Documents/GitHub/r_cleaning_data_online_fall23")
sw_df <- read_csv("starwars.csv")
sw_df <- read_csv("starwars.csv")
horror_books <- readxl::read_xlsx("halloween.xlsx", sheet = 1)
horror_movies <- readxl::read_xlsx("halloween.xlsx", sheet = 2)
horror_articles <- readxl::read_xlsx("halloween.xlsx", sheet = 3)
demographics_df <- haven::read_sav("demographics.sav")
sw_df |> # object we are working on
filter(homeworld == "Tatooine") |> # first operation
select(name, height, mass, species) # second operation
sw_df |> # object we are working on
select(name, height, mass, species) |> # first operation
filter(homeworld == "Tatooine") # second operation
glimpse(sw_df)
sw_eye <- sw_df |>
filter(eye_color == "blue")
sw_eye
sw_eye50 <- sw_df |>
filter(eye_color == "blue" & birth_year < 50)
sw_eye50
sw_select <- sw_df |>
select(name, height, mass)
sw_select
demographics_df
demographics_mutate <- demographics_df |>
mutate(income_new = income/1000) |>  # create new variable
relocate(income_new, .after = income) # relocate variable in data frame
demographics_overwrite <- demographics_df |>
mutate(income = income/1000) # overwrite income variable
demographics_overwrite
sw_df <- sw_df |>
mutate(character_id = as.character(character_id))
sw_df <- sw_df |>
mutate(sex = as_factor(sex))
levels(sw_df$sex)
sw_df <- sw_df |>
mutate(sex_num = recode_factor(sex,
"male" = 0,
"female" = 1,
"none" = 2,
"hermaphroditic" = 3,
"unknown" = 999)) |>
relocate(sex_num, .after = sex)
sw_df
which(is.na(sw_df$mass))
mean(sw_df$mass)
sw_dropNA <- sw_df |>
drop_na()
mean(sw_dropNA$mass)
sw_dropNA_var <- sw_df |>
drop_na(mass)
mean(sw_dropNA_var$mass)
sw_df <- sw_df |>
mutate(homeworld = replace_na(homeworld, "unknown"))
sw_df
describe(sw_df)
library(psych)
describe(sw_df)
ctable(sw_df$sex, sw_df$gender)
library(summarytools)
ctable(sw_df$sex, sw_df$gender)
ctable(sw_df$hair_color, sw_df$skin_color)
ctable(sw_df$sex, sw_df$gender)
freq(sw_df$sex)
descr(sw_df)
create_report(sw_df)
library(DataExplorer)
create_report(sw_df)
